# 6. Data Retrieval Language (SELECT)

The `SELECT` statement in Oracle SQL is used to retrieve data from one or more tables. It allows you to perform various operations to view and analyze your data.

## Key Operations

- **Projection:** Displays a subset of columns from the table.
- **Selection:** Displays a subset of rows based on specified criteria.

## Typical Structure

A typical `SELECT` statement may include up to six clauses:

```sql
SELECT column_name [, column_list] [, aggregated_column]
FROM table_name
[WHERE search_condition]
[GROUP BY grouping_column_names]
[HAVING aggregated_search_condition]
[ORDER BY sorting_columns]
```

> **Note:** The `SELECT` and `FROM` clauses are mandatory. The remaining four clauses are optional.

## Creating and Populating the Example Table

Let's create a sample table and load some data to explore different types of `SELECT` statements.

```sql
-- Drop any existing copy of the table
DROP TABLE employees;

-- Create the employees table
CREATE TABLE employees (
    employee_id    NUMBER(6),
    first_name     VARCHAR2(20),
    last_name      VARCHAR2(25),
    email          VARCHAR2(25),
    phone_number   VARCHAR2(20),
    hire_date      DATE,
    job_id         VARCHAR2(10),
    salary         NUMBER(8,2),
    commission_pct NUMBER(2,2),
    manager_id     NUMBER(6),
    department_id  NUMBER(4)
);

-- Insert data into the table
INSERT INTO employees VALUES (100, 'Steven', 'King', 'SKING', '1.515.555.0100', TO_DATE('17-06-2013', 'dd-MM-yyyy'), 'AD_PRES', 24000, NULL, NULL, 90);
INSERT INTO employees VALUES (101, 'Neena', 'Yang', 'NYANG', '1.515.555.0101', TO_DATE('21-09-2015', 'dd-MM-yyyy'), 'AD_VP', 17000, NULL, 100, 90);
INSERT INTO employees VALUES (102, 'Lex', 'Garcia', 'LGARCIA', '1.515.555.0102', TO_DATE('13-01-2011', 'dd-MM-yyyy'), 'AD_VP', 17000, NULL, 100, 90);
INSERT INTO employees VALUES (103, 'Alexander', 'James', 'AJAMES', '1.590.555.0103', TO_DATE('03-01-2016', 'dd-MM-yyyy'), 'IT_PROG', 9000, NULL, 102, 60);
INSERT INTO employees VALUES (104, 'Bruce', 'Miller', 'BMILLER', '1.590.555.0104', TO_DATE('21-05-2017', 'dd-MM-yyyy'), 'IT_PROG', 6000, NULL, 103, 60);
INSERT INTO employees VALUES (105, 'David', 'Williams', 'DWILLIAMS', '1.590.555.0105', TO_DATE('25-06-2015', 'dd-MM-yyyy'), 'IT_PROG', 4800, NULL, 103, 60);
INSERT INTO employees VALUES (106, 'Valli', 'Jackson', 'VJACKSON', '1.590.555.0106', TO_DATE('05-02-2016', 'dd-MM-yyyy'), 'IT_PROG', 4800, NULL, 103, 60);
INSERT INTO employees VALUES (107, 'Diana', 'Nguyen', 'DNGUYEN', '1.590.555.0107', TO_DATE('07-02-2017', 'dd-MM-yyyy'), 'IT_PROG', 4200, NULL, 103, 60);
INSERT INTO employees VALUES (108, 'Nancy', 'Gruenberg', 'NGRUENBE', '1.515.555.0108', TO_DATE('17-08-2012', 'dd-MM-yyyy'), 'FI_MGR', 12008, NULL, 101, 100);
INSERT INTO employees VALUES (109, 'Daniel', 'Faviet', 'DFAVIET', '1.515.555.0109', TO_DATE('16-08-2012', 'dd-MM-yyyy'), 'FI_ACCOUNT', 9000, NULL, 108, 100);
INSERT INTO employees VALUES (110, 'John', 'Chen', 'JCHEN', '1.515.555.0110', TO_DATE('28-09-2015', 'dd-MM-yyyy'), 'FI_ACCOUNT', 8200, NULL, 108, 100);

-- Commit changes to the database
COMMIT;
```

## Examples of `SELECT` Statements

### (1) Display All Records

```sql
SELECT * FROM employees;
```

![All Records](images/select-table-data.png)

### (2) Retrieve Specific Columns

```sql
SELECT employee_id, first_name, last_name FROM employees;
```

![Specific Columns](images/DRL-output-2.png)

### (3) Restricting Selection with Comparison Operators

#### (3a) Simple Condition

```sql
SELECT * FROM employees WHERE manager_id = 103;
```

#### (3b) Multiple Conditions

```sql
SELECT * FROM employees
WHERE manager_id = 103
AND salary > 5000;
```

![Comparison Operators](images/DRL-output-3-2.png)

### (4) Restricting Selection with `IN` Keyword

```sql
SELECT * FROM employees
WHERE job_id IN ('FI_ACCOUNT', 'AD_VP');
```

![IN Keyword](images/DRL-output-4.png)

### (5) Pattern Matching with `LIKE`

```sql
SELECT * FROM employees
WHERE first_name LIKE 'D%e_';
```

![Pattern Matching](images/DRL-output-5.png)

### (6) Restricting with `BETWEEN ... AND`

```sql
SELECT * FROM employees
WHERE hire_date BETWEEN '01-JAN-13' AND '31-DEC-15';
```

![BETWEEN AND](images/DRL-output-6.png)

### (7) Handling NULL Values

#### (7a) Check for NULL

```sql
SELECT * FROM employees
WHERE manager_id IS NULL;
```

#### (7b) Check for NOT NULL

```sql
SELECT * FROM employees
WHERE manager_id IS NOT NULL;
```

![NULL Values](images/DRL-output-7.png)

### (8) Concatenation Operator

```sql
SELECT 'The salary of ' || first_name || ' ' || last_name || ' is: ' || salary FROM employees;
```

![Concatenation](images/DRL-output-8.png)

### (9) Using Column Aliases

```sql
SELECT employee_id AS Id, salary AS Earnings FROM employees;
```

![Column Aliases](images/DRL-output-9.png)

### (10) Eliminating Duplicates with `DISTINCT`

```sql
SELECT DISTINCT job_id FROM employees;
```

![DISTINCT](images/DRL-output-10.png)

### (11) Sorting Results with `ORDER BY`

#### (11a) Ascending Order

```sql
SELECT * FROM employees
ORDER BY salary;
```

#### (11b) Descending Order

```sql
SELECT * FROM employees
ORDER BY salary DESC;
```

![ORDER BY](images/DRL-output-11.png)

### (12) Grouping Data with `GROUP BY`

#### (12a) Basic Grouping

```sql
SELECT department_id, SUM(salary) AS total_salary FROM employees
GROUP BY department_id;
```

#### (12b) Filtering Grouped Data with `HAVING`

```sql
SELECT department_id, SUM(salary) AS total_salary FROM employees
GROUP BY department_id
HAVING SUM(salary) < 30000;
```

![GROUP BY](images/DRL-output-12.png)

